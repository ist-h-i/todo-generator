<div class="auth-wrapper">
  <div class="auth-container">
    <div class="auth-grid grid gap-10 lg:grid-cols-2">
      <section
        class="surface-panel login-panel px-8 py-10"
        aria-labelledby="login-heading"
      >
        <div class="panel-header">
          <span class="panel-badge">ログイン</span>
          <h2
            id="login-heading"
            class="panel-title text-2xl font-semibold text-slate-800 dark:text-slate-100"
          >
            登録済みの方はこちら
          </h2>
        </div>
        <p class="panel-subtitle mt-2 text-sm text-slate-500 dark:text-slate-400">
          既にワークスペースへ招待されている場合は、メールアドレスとパスワードを入力してサインインしてください。
        </p>

        @if (loginNotice(); as notice) {
          <div class="alert error" role="alert" aria-live="polite">
            {{ notice }}
          </div>
        }

        <form class="mt-6 flex flex-col gap-5" (submit)="onLoginSubmit($event)">
          <label class="block text-sm font-medium text-slate-600 dark:text-slate-300">
            メールアドレス
            <input
              name="email"
              type="email"
              autocomplete="email"
              [value]="loginForm.controls.email.value()"
              (input)="onLoginEmailInput($event)"
              class="mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-base text-slate-800 shadow-sm transition focus:border-accent focus:outline-none focus:ring-2 focus:ring-accent/40 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-100"
              placeholder="you@example.com"
            />
          </label>

          <label class="block text-sm font-medium text-slate-600 dark:text-slate-300">
            パスワード
            <input
              name="password"
              type="password"
              autocomplete="current-password"
              [value]="loginForm.controls.password.value()"
              (input)="onLoginPasswordInput($event)"
              class="mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-base text-slate-800 shadow-sm transition focus:border-accent focus:outline-none focus:ring-2 focus:ring-accent/40 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-100"
              placeholder="パスワード"
            />
          </label>

          <button
            type="submit"
            class="focus-ring mt-2 inline-flex items-center justify-center rounded-xl bg-accent px-5 py-3 text-sm font-semibold text-white shadow-lg shadow-accent/30 transition hover:bg-accent-strong disabled:cursor-not-allowed disabled:bg-slate-400"
            [disabled]="!canSubmitLogin()"
          >
            サインイン
          </button>
        </form>

        <p id="login-guidance" class="mt-6 text-xs text-slate-400 dark:text-slate-500">
          セキュリティのため、共有端末ではログイン後に必ずサインアウトしてください。
        </p>
      </section>

      <section
        class="surface-panel register-panel px-8 py-10"
        aria-labelledby="register-heading"
      >
        <div class="panel-header">
          <span class="panel-badge accent">新規登録</span>
          <h3
            id="register-heading"
            class="panel-title text-xl font-semibold text-slate-800 dark:text-slate-100"
          >
            アカウントを作成
          </h3>
        </div>
        <p class="panel-subtitle mt-2 text-sm text-slate-500 dark:text-slate-400">
          初めて利用する方は、メールアドレスと希望のパスワードを入力してアカウントを作成してください。登録後は自動的にボードへ移動します。
        </p>
        <ul class="register-hints mt-4 space-y-2 text-xs text-slate-500 dark:text-slate-400">
          <li>パスワードは8文字以上で設定してください。</li>
          <li>確認用パスワードも同じ内容を入力してください。</li>
        </ul>

        @if (registerNotice(); as registerMessage) {
          <div class="alert error" role="alert" aria-live="polite">
            {{ registerMessage }}
          </div>
        }

        <label class="mt-6 block text-sm font-medium text-slate-600 dark:text-slate-300">
          メールアドレス
          <input
            name="request-email"
            type="email"
            autocomplete="email"
            [value]="requestForm.controls.email.value()"
            (input)="onRequestEmailInput($event)"
            class="mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-base text-slate-800 shadow-sm transition focus:border-accent focus:outline-none focus:ring-2 focus:ring-accent/40 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-100"
            placeholder="you@example.com"
          />
        </label>

          <button
            type="submit"
            class="focus-ring mt-2 inline-flex items-center justify-center rounded-xl bg-emerald-500 px-5 py-3 text-sm font-semibold text-white shadow-lg shadow-emerald-500/30 transition hover:bg-emerald-600 disabled:cursor-not-allowed disabled:bg-slate-400"
            [disabled]="!canSubmitRegistration()"
          >
            アカウントを作成
          </button>
        </form>
      </section>
    </div>
  </div>
</div>
